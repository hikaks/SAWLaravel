/**
 * DataTables Tailwind CSS Integration
 * Custom styling for DataTables to work with Tailwind CSS
 */

/* DataTables wrapper */
.dataTables_wrapper {
    @apply w-full;
}

/* DataTables length control */
.dataTables_length {
    @apply mb-4 flex items-center gap-2;
}

.dataTables_length label {
    @apply text-sm font-medium text-gray-700 flex items-center gap-2;
}

.dataTables_length select {
    @apply form-select w-auto min-w-0 px-3 py-1.5 text-sm border-gray-300 rounded-md 
           focus:border-primary-500 focus:ring-primary-500;
}

/* DataTables search */
.dataTables_filter {
    @apply mb-4 flex justify-end;
}

.dataTables_filter label {
    @apply text-sm font-medium text-gray-700 flex items-center gap-2;
}

.dataTables_filter input {
    @apply form-control w-64 px-3 py-2 text-sm border-gray-300 rounded-md 
           focus:border-primary-500 focus:ring-primary-500;
}

/* DataTables table */
.dataTable {
    @apply w-full divide-y divide-gray-200 border border-gray-200 rounded-lg overflow-hidden;
}

.dataTable thead {
    @apply bg-gray-50;
}

.dataTable thead th {
    @apply px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider
           border-b border-gray-200;
}

.dataTable tbody {
    @apply bg-white divide-y divide-gray-200;
}

.dataTable tbody td {
    @apply px-6 py-4 whitespace-nowrap text-sm text-gray-900;
}

.dataTable tbody tr {
    @apply hover:bg-gray-50 transition-colors duration-150;
}

/* DataTables sorting */
.dataTable thead th.sorting,
.dataTable thead th.sorting_asc,
.dataTable thead th.sorting_desc {
    @apply cursor-pointer select-none relative;
}

.dataTable thead th.sorting::after,
.dataTable thead th.sorting_asc::after,
.dataTable thead th.sorting_desc::after {
    @apply absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400;
    font-family: 'Font Awesome 6 Free';
    font-weight: 900;
}

.dataTable thead th.sorting::after {
    content: '\f0dc'; /* fa-sort */
}

.dataTable thead th.sorting_asc::after {
    content: '\f0de'; /* fa-sort-up */
    @apply text-primary-600;
}

.dataTable thead th.sorting_desc::after {
    content: '\f0dd'; /* fa-sort-down */
    @apply text-primary-600;
}

/* DataTables info */
.dataTables_info {
    @apply mt-4 text-sm text-gray-700;
}

/* DataTables pagination */
.dataTables_paginate {
    @apply mt-4 flex justify-end;
}

.dataTables_paginate .paginate_button {
    @apply inline-flex items-center px-3 py-2 text-sm font-medium text-gray-500 
           bg-white border border-gray-300 hover:bg-gray-50 hover:text-gray-700
           transition-colors duration-150 no-underline;
}

.dataTables_paginate .paginate_button.current {
    @apply bg-primary-600 text-white border-primary-600 hover:bg-primary-700;
}

.dataTables_paginate .paginate_button.disabled {
    @apply opacity-50 cursor-not-allowed pointer-events-none;
}

.dataTables_paginate .paginate_button:first-child {
    @apply rounded-l-md;
}

.dataTables_paginate .paginate_button:last-child {
    @apply rounded-r-md;
}

.dataTables_paginate .paginate_button + .paginate_button {
    @apply -ml-px;
}

/* DataTables processing */
.dataTables_processing {
    @apply fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2
           bg-white border border-gray-300 rounded-lg shadow-lg px-6 py-4 z-50;
}

/* DataTables empty state */
.dataTables_empty {
    @apply text-center py-8 text-gray-500;
}

/* Responsive DataTables */
.dtr-control {
    @apply cursor-pointer select-none;
}

.dtr-control::before {
    @apply inline-block w-4 h-4 mr-2 text-primary-600;
    font-family: 'Font Awesome 6 Free';
    font-weight: 900;
    content: '\f067'; /* fa-plus */
}

.dtr-control.dtr-expanded::before {
    content: '\f068'; /* fa-minus */
}

.child {
    @apply bg-gray-50;
}

.child ul {
    @apply list-none p-0 m-0;
}

.child ul li {
    @apply border-b border-gray-200 py-2 last:border-b-0;
}

.child ul li span.dtr-title {
    @apply font-semibold text-gray-700 inline-block w-32;
}

/* DataTables buttons (if using buttons extension) */
.dt-buttons {
    @apply mb-4 flex flex-wrap gap-2;
}

.dt-button {
    @apply btn btn-outline-secondary;
}

/* Custom row selection styling */
.dataTable tbody tr.selected {
    @apply bg-primary-50 border-primary-200;
}

.dataTable tbody tr.selected td {
    @apply text-primary-900;
}

/* Loading state */
.dataTables_wrapper .dataTables_processing {
    @apply flex items-center gap-3;
}

.dataTables_wrapper .dataTables_processing::before {
    @apply loading-spinner w-5 h-5;
    content: '';
}

/* Compact table variant */
.dataTable.table-compact thead th {
    @apply px-4 py-2;
}

.dataTable.table-compact tbody td {
    @apply px-4 py-3;
}

/* Striped table variant */
.dataTable.table-striped tbody tr:nth-child(even) {
    @apply bg-gray-25;
}

/* Bordered table variant */
.dataTable.table-bordered {
    @apply border-collapse border border-gray-300;
}

.dataTable.table-bordered th,
.dataTable.table-bordered td {
    @apply border border-gray-300;
}

/* Dark mode support (for future) */
@media (prefers-color-scheme: dark) {
    .dark .dataTable {
        @apply bg-gray-800 border-gray-700;
    }
    
    .dark .dataTable thead {
        @apply bg-gray-900;
    }
    
    .dark .dataTable thead th {
        @apply text-gray-300 border-gray-700;
    }
    
    .dark .dataTable tbody td {
        @apply text-gray-100 border-gray-700;
    }
    
    .dark .dataTable tbody tr:hover {
        @apply bg-gray-700;
    }
}