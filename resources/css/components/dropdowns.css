/**
 * Dropdown Components for Tailwind CSS
 * Replacing Bootstrap dropdowns with custom Tailwind implementation
 */

/* Dropdown container */
.dropdown {
    @apply relative inline-block;
}

/* Dropdown toggle button */
.dropdown-toggle {
    @apply inline-flex items-center gap-2 px-4 py-2 
           bg-white border border-gray-300 rounded-md shadow-sm
           text-sm font-medium text-gray-700
           hover:bg-gray-50 focus:outline-none focus:ring-2 
           focus:ring-primary-500 focus:ring-offset-2
           transition-colors duration-150;
}

.dropdown-toggle::after {
    @apply ml-1 text-gray-400;
    font-family: 'Font Awesome 6 Free';
    font-weight: 900;
    content: '\f078'; /* fa-chevron-down */
    transition: transform 0.15s ease-in-out;
}

.dropdown-toggle[aria-expanded="true"]::after {
    @apply transform rotate-180;
}

/* Dropdown menu */
.dropdown-menu {
    @apply absolute right-0 mt-2 w-56 bg-white rounded-md shadow-lg 
           border border-gray-200 py-1 z-50
           transform opacity-0 scale-95 transition-all duration-200
           origin-top-right pointer-events-none;
}

.dropdown-menu.show {
    @apply opacity-100 scale-100 pointer-events-auto;
}

/* Dropdown menu positioning variants */
.dropdown-menu-left {
    @apply left-0 right-auto origin-top-left;
}

.dropdown-menu-center {
    @apply left-1/2 right-auto transform -translate-x-1/2 origin-top;
}

.dropdown-menu-up {
    @apply bottom-full top-auto mb-2 mt-0 origin-bottom-right;
}

.dropdown-menu-up.dropdown-menu-left {
    @apply origin-bottom-left;
}

.dropdown-menu-up.dropdown-menu-center {
    @apply origin-bottom;
}

/* Dropdown items */
.dropdown-item {
    @apply block px-4 py-2 text-sm text-gray-700 
           hover:bg-gray-50 hover:text-gray-900
           transition-colors duration-150 no-underline;
}

.dropdown-item:focus {
    @apply bg-gray-50 text-gray-900 outline-none;
}

.dropdown-item.active {
    @apply bg-primary-600 text-white hover:bg-primary-700 hover:text-white;
}

.dropdown-item.disabled {
    @apply text-gray-400 cursor-not-allowed pointer-events-none;
}

/* Dropdown item with icon */
.dropdown-item-icon {
    @apply flex items-center gap-3;
}

.dropdown-item-icon i {
    @apply w-4 h-4 text-gray-400 flex-shrink-0;
}

.dropdown-item.active .dropdown-item-icon i {
    @apply text-white;
}

/* Dropdown header */
.dropdown-header {
    @apply px-4 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider;
}

/* Dropdown divider */
.dropdown-divider {
    @apply h-px bg-gray-200 my-1;
}

/* Dropdown text (non-interactive) */
.dropdown-text {
    @apply px-4 py-2 text-sm text-gray-700;
}

/* Button group with dropdown */
.btn-group {
    @apply relative inline-flex;
}

.btn-group .btn {
    @apply rounded-none first:rounded-l-md last:rounded-r-md;
}

.btn-group .btn + .btn {
    @apply -ml-px;
}

.btn-group .dropdown-toggle-split {
    @apply pl-3 pr-3;
}

.btn-group .dropdown-toggle-split::after {
    @apply ml-0;
}

/* Dropdown sizes */
.dropdown-menu-sm {
    @apply w-48;
}

.dropdown-menu-lg {
    @apply w-64;
}

.dropdown-menu-xl {
    @apply w-80;
}

/* Dropdown with search */
.dropdown-search {
    @apply p-2 border-b border-gray-200;
}

.dropdown-search input {
    @apply w-full px-3 py-2 text-sm border border-gray-300 rounded-md
           focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500;
}

/* Dropdown with scrollable content */
.dropdown-menu-scrollable {
    @apply max-h-64 overflow-y-auto;
}

/* Custom scrollbar for dropdown */
.dropdown-menu-scrollable::-webkit-scrollbar {
    @apply w-1;
}

.dropdown-menu-scrollable::-webkit-scrollbar-track {
    @apply bg-gray-100;
}

.dropdown-menu-scrollable::-webkit-scrollbar-thumb {
    @apply bg-gray-300 rounded-full;
}

.dropdown-menu-scrollable::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-400;
}

/* Animation classes for Alpine.js */
.dropdown-enter {
    @apply transition-all duration-200 ease-out;
}

.dropdown-enter-from {
    @apply opacity-0 scale-95 transform translate-y-1;
}

.dropdown-enter-to {
    @apply opacity-100 scale-100 transform translate-y-0;
}

.dropdown-leave {
    @apply transition-all duration-150 ease-in;
}

.dropdown-leave-from {
    @apply opacity-100 scale-100 transform translate-y-0;
}

.dropdown-leave-to {
    @apply opacity-0 scale-95 transform translate-y-1;
}

/* Responsive dropdown */
@media (max-width: 640px) {
    .dropdown-menu {
        @apply w-full left-0 right-0;
    }
    
    .dropdown-menu-responsive {
        @apply fixed inset-x-4 top-auto bottom-4 w-auto rounded-lg shadow-xl;
    }
}

/* Dropdown notification badge */
.dropdown-toggle .badge {
    @apply absolute -top-1 -right-1 z-10;
}

/* Dark mode support */
@media (prefers-color-scheme: dark) {
    .dark .dropdown-toggle {
        @apply bg-gray-800 border-gray-600 text-gray-200 hover:bg-gray-700;
    }
    
    .dark .dropdown-menu {
        @apply bg-gray-800 border-gray-600;
    }
    
    .dark .dropdown-item {
        @apply text-gray-200 hover:bg-gray-700 hover:text-white;
    }
    
    .dark .dropdown-divider {
        @apply bg-gray-600;
    }
    
    .dark .dropdown-header {
        @apply text-gray-400;
    }
}